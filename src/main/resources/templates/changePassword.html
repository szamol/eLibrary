<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" xmlns="http://www.w3.org/1999/html">
<head th:replace="mainBar :: head">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title th:utext="#{menu.mainPage}"></title>
</head>
<body>
<nav th:replace="mainBar :: nav"></nav>
    <h1 th:utext="#{menu.mainPage}"></h1>
    <div class="d-flex justify-content-center" style="text-align: center">
        <form action="#" th:action="@{/changePassword}" method="post" th:object="${user}">
            <input type="hidden" name="email" th:field="*{email}">
            <div class="form-group">
                <label th:utext="#{passwordChange.new}"></label>
                <input type="password" class="form-control" value="" name="newPassword" th:field="*{newPassword}">
                <p th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}" style="color: red; font-size: 15px" class="text-center"></p>
            </div>
            <div class="form-group">
                <label th:utext="#{passwordChange.confirm}"></label>
                <input type="password" class="form-control" value="" name="newPasswordConfirm" th:field="*{newPasswordConfirm}">
                <p th:if="${#fields.hasErrors('newPasswordConfirm')}" th:errors="*{newPasswordConfirm}" style="color: red; font-size: 15px" class="text-center"></p>
            </div>
            <div class="text-center">
                <button type="submit" class="btn btn-primary" th:utext="#{passwordChange.save}"></button>
            </div>
        </form>
    </div>
    <div class="d-flex justify-content-center" th:utext="${success}" style="color: green"></div>
</body>
</html>